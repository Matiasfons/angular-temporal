{"version":3,"file":"src_app_pages_secure_home_home_module_ts.js","mappings":"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","sources":["./src/app/pages/secure/home/home-routing.module.ts","./src/app/pages/secure/home/home.module.ts","./src/app/pages/secure/home/home.page.ts","./src/app/pages/secure/home/home.page.scss"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { HomePage } from './home.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HomePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class HomePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { HomePageRoutingModule } from './home-routing.module';\n\nimport { HomePage } from './home.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    HomePageRoutingModule\n  ],\n  declarations: [HomePage]\n})\nexport class HomePageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { AuthService } from 'src/app/services/auth/auth.service';\nimport { Chart } from 'chart.js';\nimport { ReportService } from 'src/app/services/report/report.service';\nimport { AlertController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.page.html',\n  styleUrls: ['./home.page.scss'],\n})\nexport class HomePage implements OnInit {\n  content_loaded = false;\n  productos = [];\n  totalGanancias: number = 0;\n  totalCantidadVendida: number = 0; // Total de cantidad vendida\n  myChart: Chart<'bar'> | null = null;\n  myChart2: Chart<'pie'> | null = null;\n\n  codigo: string = '';\n  searchTerm: string = '';\n  stockAlerts: string[] = [];\n\n  constructor(\n    private authService: AuthService,\n    private reportService: ReportService,\n    private alertController: AlertController,\n  ) {\n    this.getData();\n  }\n\n  async ionViewWillEnter() {\n    try {\n      const res = await this.authService.getSession('codigo');\n      this.codigo = res;\n      await this.verificarStock(this.codigo);\n    } catch (error) {\n      console.error('Error al inicializar los datos', error);\n      this.authService.showToast(\n        'Error al cargar los datos. Por favor, intenta de nuevo.'\n      );\n    }\n  }\n\n  verificarStock(codigo: string) {\n    let datos = {\n      accion: 'lproductos',\n      cod_persona: this.codigo,\n    };\n    this.authService.postData(datos).subscribe((res: any) => {\n      if (res.estado === true) {\n        // Verificar stock mínimo con lógica dinámica\n        this.stockAlerts = this.authService.checkStockMinimo(res.datos);\n        if (this.stockAlerts.length > 0) {\n          this.showStockAlert();\n        }\n      } else {\n        this.authService.showToast(res.mensaje);\n      }\n    });\n  }\n\n  async showStockAlert() {\n    const alert = await this.alertController.create({\n      header: 'Alertas de Stock',\n      message: this.stockAlerts.join('<br>'),\n      buttons: ['OK']\n    });\n\n    await alert.present();\n  }\n\n  private generarColoresHexadecimales(cantidad: number): string[] {\n    const colores: string[] = [];\n    const letrasHex = '89ABCDEF';\n\n    while (colores.length < cantidad) {\n      let color = '#';\n      for (let i = 0; i < 6; i++) {\n        color += letrasHex[Math.floor(Math.random() * letrasHex.length)];\n      }\n\n      if (!colores.includes(color)) {\n        colores.push(color);\n      }\n    }\n\n    return colores;\n  }\n\n  private async getData() {\n    const userCode = localStorage.getItem('CapacitorStorage.codigo');\n    const datos = {\n      accion: 'report',\n      id_persona: userCode,\n      page: 1,\n      items_per_page: 1000000000,\n      dateFrom: new Date(new Date().getFullYear(), new Date().getMonth(), 1)\n        .toISOString()\n        .split('T')[0],\n      dateTo: new Date().toISOString().split('T')[0],\n    };\n\n    this.reportService.getDataReport(datos).subscribe((res: any) => {\n      if (res.estado) {\n        const products = res?.productos;\n\n        if (products && Array.isArray(products)) {\n          this.productos = products\n            .sort((a, b) => b.RF_CANTIDAD_VENDIDA - a.RF_CANTIDAD_VENDIDA)\n            .slice(0, 4);\n\n          const colors = this.generarColoresHexadecimales(\n            (this.productos || []).length\n          );\n\n          this.productos = this.productos.map((d, index) => ({\n            name: d.nombre,\n            value: d.RF_CANTIDAD_VENDIDA,\n            ganancias: d.cuanto_gana,\n            color: colors[index],\n          }));\n\n          // Calcular el total de ganancias\n          this.totalGanancias = this.productos.reduce(\n            (total, producto) => total + producto.ganancias,\n            0\n          );\n\n          // Calcular el total de cantidad vendida\n          this.totalCantidadVendida = this.productos.reduce(\n            (total, producto) => total + producto.value,\n            0\n          );\n\n          this.generarChart();\n          this.generarChartPastel();\n        } else {\n          this.authService.showToast(res.mensaje);\n        }\n      } else {\n        this.authService.showToast(res.mensaje);\n      }\n    });\n  }\n\n  ngOnInit() {\n    // Fake timeout\n    setTimeout(() => {\n      this.content_loaded = true;\n    }, 2000);\n  }\n\n  generarChart() {\n    const canvas = document.getElementById('myChart') as HTMLCanvasElement;\n    const ctx = canvas.getContext('2d');\n\n    this.myChart = new Chart<'bar'>(ctx, {\n      type: 'bar',\n      data: {\n        labels: this.productos.map((x) => x.name),\n        datasets: [\n          {\n            label: 'Productos más vendidos',\n            data: this.productos.map((x) => x.value),\n            backgroundColor: this.productos.map((x) => x.color),\n            borderColor: this.productos.map((x) => x.color),\n            borderWidth: 1,\n          },\n        ],\n      },\n      options: {\n        scales: {\n          y: {\n            beginAtZero: true,\n          },\n        },\n      },\n    });\n  }\n\n  generarChartPastel() {\n    const canvas = document.getElementById('myChart2') as HTMLCanvasElement;\n    const ctx = canvas.getContext('2d');\n\n    this.myChart2 = new Chart<'pie'>(ctx, {\n      type: 'pie',\n      data: {\n        labels: this.productos.map((x) => x.name),\n        datasets: [\n          {\n            label: 'Ganancias por producto',\n            data: this.productos.map((x) => x.ganancias),\n            backgroundColor: this.productos.map((x) => x.color),\n            borderColor: this.productos.map((x) => x.color),\n            borderWidth: 1,\n          },\n        ],\n      },\n      options: {\n        responsive: true,\n        plugins: {\n          legend: {\n            position: 'top',\n          },\n          tooltip: {\n            enabled: true,\n          },\n        },\n      },\n    });\n  }\n}\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":host ion-list {\\n  background-color: var(--ion-color-primary);\\n}\\n\\n.chart-container {\\n  position: relative;\\n  margin: auto;\\n}\\n\\n.custom-grid {\\n  display: grid;\\n  grid-template-columns: 1fr 1fr;\\n  grid-gap: 20px;\\n  max-height: 800px;\\n  height: 100%;\\n  margin: 0 auto;\\n  padding: 10px;\\n}\\n\\n.grid-item {\\n  background-color: white;\\n  border: 1px solid rgb(182, 182, 182);\\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\\n  padding: 20px;\\n  text-align: center;\\n  border-radius: 8px;\\n}\\n\\n.info-card {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n}\\n.info-card h3 {\\n  margin: 0px;\\n  font-size: 20px;\\n  margin-left: 5px;\\n}\\n\\n.profits-card-result {\\n  display: flex;\\n  justify-content: center;\\n  margin-top: 20px;\\n}\\n.profits-card-result ion-icon {\\n  font-size: 22px;\\n  font-weight: normal;\\n}\\n.profits-card-result p {\\n  margin: 0px;\\n  margin-left: 5px;\\n  font-size: 30px;\\n  font-weight: bold;\\n}\\n\\n.tabla-ventas {\\n  width: 100%;\\n  border-collapse: collapse;\\n  margin-top: 20px;\\n  color: black;\\n  background: white;\\n  margin-bottom: 20px;\\n}\\n\\n.tabla-ventas th,\\n.tabla-ventas td {\\n  border: 1px solid #ddd;\\n  padding: 8px;\\n  text-align: left;\\n}\\n\\n.tabla-ventas th {\\n  background-color: #f2f2f2;\\n  text-align: center;\\n}\\n\\n.tabla-ventas tr:nth-child(even) {\\n  background-color: #f2f2f2;\\n}\\n\\n.tabla-ventas tr:hover {\\n  background-color: #ddd;\\n}\\n\\n.productos-vendidos-title {\\n  color: rgb(36, 36, 36);\\n  text-align: center;\\n  font-size: 30px;\\n  margin-block: 25px;\\n}\\n\\n.pie-chart {\\n  margin-bottom: 25px;\\n  overflow: auto;\\n}\\n\\n.custom-tooltip p {\\n  margin: 0px;\\n  font-size: 30px;\\n}\\n\\n.color-container {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n}\\n.color-container div {\\n  width: 20px;\\n  height: 20px;\\n  border-radius: 100%;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/pages/secure/home/home.page.scss\"],\"names\":[],\"mappings\":\"AACE;EACE,0CAAA;AAAJ;;AAIA;EACE,kBAAA;EACA,YAAA;AADF;;AAIA;EACE,aAAA;EACA,8BAAA;EACA,cAAA;EACA,iBAAA;EACA,YAAA;EACA,cAAA;EACA,aAAA;AADF;;AAIA;EACE,uBAAA;EACA,oCAAA;EACA,wCAAA;EACA,aAAA;EACA,kBAAA;EACA,kBAAA;AADF;;AAIA;EACE,aAAA;EACA,mBAAA;EACA,uBAAA;AADF;AAEE;EACE,WAAA;EACA,eAAA;EACA,gBAAA;AAAJ;;AAIA;EACE,aAAA;EACA,uBAAA;EACA,gBAAA;AADF;AAEE;EACE,eAAA;EACI,mBAAA;AAAR;AAEE;EACE,WAAA;EACA,gBAAA;EACA,eAAA;EACA,iBAAA;AAAJ;;AAKA;EACE,WAAA;EACA,yBAAA;EACA,gBAAA;EACA,YAAA;EACA,iBAAA;EACA,mBAAA;AAFF;;AAKA;;EAEE,sBAAA;EACA,YAAA;EACA,gBAAA;AAFF;;AAKA;EACE,yBAAA;EACA,kBAAA;AAFF;;AAKA;EACE,yBAAA;AAFF;;AAKA;EACE,sBAAA;AAFF;;AAKA;EACE,sBAAA;EACA,kBAAA;EACA,eAAA;EACA,kBAAA;AAFF;;AAKA;EACE,mBAAA;EACA,cAAA;AAFF;;AAME;EACE,WAAA;EACA,eAAA;AAHJ;;AAOA;EACE,aAAA;EACA,uBAAA;EACA,mBAAA;AAJF;AAKE;EACE,WAAA;EACA,YAAA;EACA,mBAAA;AAHJ\",\"sourcesContent\":[\":host {\\n  ion-list {\\n    background-color: var(--ion-color-primary);\\n  }\\n}\\n\\n.chart-container {\\n  position: relative;\\n  margin: auto;\\n}\\n\\n.custom-grid {\\n  display: grid;\\n  grid-template-columns: 1fr 1fr;\\n  grid-gap: 20px;\\n  max-height: 800px;\\n  height: 100%;\\n  margin: 0 auto;\\n  padding: 10px;\\n}\\n\\n.grid-item {\\n  background-color: white;\\n  border: 1px solid rgb(182, 182, 182);\\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\\n  padding: 20px;\\n  text-align: center;\\n  border-radius: 8px;\\n}\\n\\n.info-card {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  h3 {\\n    margin: 0px;\\n    font-size: 20px;\\n    margin-left: 5px;\\n  }\\n}\\n\\n.profits-card-result {\\n  display: flex;\\n  justify-content: center;\\n  margin-top: 20px;\\n  ion-icon {\\n    font-size: 22px;\\n        font-weight: normal;\\n  }\\n  p {\\n    margin: 0px;\\n    margin-left: 5px;\\n    font-size: 30px;\\n    font-weight: bold;\\n  }\\n\\n}\\n\\n.tabla-ventas {\\n  width: 100%;\\n  border-collapse: collapse;\\n  margin-top: 20px;\\n  color: black;\\n  background: white;\\n  margin-bottom: 20px;\\n}\\n\\n.tabla-ventas th,\\n.tabla-ventas td {\\n  border: 1px solid #ddd;\\n  padding: 8px;\\n  text-align: left;\\n}\\n\\n.tabla-ventas th {\\n  background-color: #f2f2f2;\\n  text-align: center;\\n}\\n\\n.tabla-ventas tr:nth-child(even) {\\n  background-color: #f2f2f2;\\n}\\n\\n.tabla-ventas tr:hover {\\n  background-color: #ddd;\\n}\\n\\n.productos-vendidos-title {\\n  color: rgb(36, 36, 36);\\n  text-align: center;\\n  font-size: 30px;\\n  margin-block: 25px;\\n}\\n\\n.pie-chart {\\n  margin-bottom: 25px;\\n  overflow: auto\\n}\\n\\n.custom-tooltip {\\n  p {\\n    margin: 0px;\\n    font-size: 30px;\\n  }\\n}\\n\\n.color-container {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  div {\\n    width: 20px;\\n    height: 20px;\\n    border-radius: 100%;\\n  }\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n"],"names":["NgModule","RouterModule","HomePage","routes","path","component","HomePageRoutingModule","imports","forChild","exports","CommonModule","FormsModule","IonicModule","HomePageModule","declarations","Component","AuthService","Chart","ReportService","AlertController","constructor","authService","reportService","alertController","getData","ionViewWillEnter","res","getSession","codigo","verificarStock","error","console","showToast","datos","accion","cod_persona","postData","subscribe","estado","stockAlerts","checkStockMinimo","length","showStockAlert","mensaje","alert","create","header","message","join","buttons","present","generarColoresHexadecimales","cantidad","colores","letrasHex","color","i","Math","floor","random","includes","push","userCode","localStorage","getItem","id_persona","page","items_per_page","dateFrom","Date","getFullYear","getMonth","toISOString","split","dateTo","getDataReport","products","productos","Array","isArray","sort","a","b","RF_CANTIDAD_VENDIDA","slice","colors","map","d","index","name","nombre","value","ganancias","cuanto_gana","totalGanancias","reduce","total","producto","totalCantidadVendida","generarChart","generarChartPastel","ngOnInit","setTimeout","content_loaded","canvas","document","getElementById","ctx","getContext","myChart","type","data","labels","x","datasets","label","backgroundColor","borderColor","borderWidth","options","scales","y","beginAtZero","myChart2","responsive","plugins","legend","position","tooltip","enabled","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}